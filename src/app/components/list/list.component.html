<div class="fs-list-container">
  <!-- Filters/actions -->
  <div class="fs-list-filters"
       [ngClass]="{'has-filters': listConfig.filterInput }">
    <div class="title">{{listConfig.title}}</div>
    <!-- Filters -->
    <div class="actions-container">
      <fs-filter
        class="fs-list-filter"
        *ngIf="listConfig.filterService.fsConfig.items.length && !listConfig.reoderEnabled"
        [(filter)]="listConfig.filterService"
      >
      </fs-filter>

      <!-- Actions -->
      <div class="fs-list-actions" *ngIf="listConfig.actions?.length">
        <ng-container *ngIf="!listConfig.reoderEnabled">
          <span *ngFor="let action of listConfig.menuActions" class="action-button">
            <button mat-raised-button
                    (click)="action.click(action, $event)"
                    [ngClass]="{ 'mat-primary': action.primary }">
              <mat-icon *ngIf="action.icon">{{action.icon}}</mat-icon> {{ action.label }}
            </button>
        </span>
        </ng-container>
        <button mat-icon-button
                *ngIf="!listConfig.reoderEnabled"
                [matMenuTriggerFor]="rowActionsRef"
                [ngClass]="{'hidden-mobile-menu-actions': !listConfig.kebabActions.length}">
          <mat-icon>more_vert</mat-icon>
        </button>
        <mat-menu #rowActionsRef>
          <button class="hidden-mobile-menu-action"
                  mat-menu-item
                  *ngFor="let action of listConfig.menuActions"
                  (click)="action.click(row, $event)"
          >
            <mat-icon *ngIf="action.icon">{{action.icon}}</mat-icon> {{action.label}}
          </button>
          <button mat-menu-item *ngFor="let action of listConfig.kebabActions" (click)="action.click(row, $event)">
            <mat-icon *ngIf="action.icon">{{action.icon}}</mat-icon> {{action.label}}
          </button>
        </mat-menu>

        <button mat-button *ngIf="listConfig.reoderEnabled" (click)="finishReorder()">
          Done
        </button>
      </div>
      <!-- /Actions -->
    </div>
  </div>

  <!-- Status -->
  <fs-list-status
    [ngClass]="{'hidden-mobile': !listConfig.status}"
    [dataChangedRef]="listConfig.data$"
    [sorting]="listConfig.sorting"
    [paging]="listConfig.paging"
    *ngIf="listConfig.paging">
  </fs-list-status>

  <!-- Table implementation -->
  <table class="fs-list-table" role="grid">
    <thead fs-list-head
      class="fs-list-head"
      role="rowgroup"
      [columns]="listConfig.columns"
      [sorting]="listConfig.sorting"
      [hasRowActions]="listConfig.hasRowActions"
      [reorder]="listConfig.reoderEnabled">
    </thead>

    <tbody fs-list-body
      class="fs-list-body"
      role="rowgroup"
      [class.loading]="listConfig.loading"
      [rows]="displayRows"
      [rowActions]="listConfig.rowActions"
      [columns]="listConfig.columns"
      [hasFooter]="listConfig.hasFooter"
      [reorder]="listConfig.reoderEnabled">
    </tbody>

    <tfoot fs-list-footer
           class="fs-list-footer"
           *ngIf="listConfig.hasFooter"
           [columns]="listConfig.columns"
           [hasRowActions]="listConfig.hasRowActions">
    </tfoot>
  </table>

  <fs-list-pagination
    *ngIf="listConfig.paging.enabled"
    [dataChangedRef]="listConfig.data$"
    [pagination]="listConfig.paging">
  </fs-list-pagination>
</div>
