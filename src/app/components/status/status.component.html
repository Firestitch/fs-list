<div class="infinite-records" *ngIf="paging.enabled && !scrollable">
  <span class="sort-limits">Showing <a [fsMenuTriggerFor]="limitsMenu">{{ paging.displayed }}</a> of {{ paging.records }} results</span>
  <ng-container *ngTemplateOutlet="sortedBy"></ng-container>
</div>

<div class="infinite-records" *ngIf="(!paging.enabled || scrollable) && paging.displayed > 0">
  <span class="sort-limits">
    <ng-container *ngIf="!scrollable; else scrollable">
      Showing
      <span *ngIf="paging.displayed == 1">{{ paging.displayed }} result</span>
      <span *ngIf="paging.displayed > 1">{{ paging.displayed }} results</span>
    </ng-container>

    <ng-template #scrollable>
      <span *ngIf="paging.records == 1">{{ paging.records }} result</span>
      <span *ngIf="paging.records > 1">{{ paging.records }} results</span>
    </ng-template>
  </span>
  <ng-container *ngTemplateOutlet="sortedBy"></ng-container>
</div>

<ng-template #sortedBy>
  <span *ngIf="sorting.sortingColumn" class="sort-by">
     sorted by
    <ng-container *ngIf="sorting.sortingColumn.title; else sortByTemplate">
      <a class="order-toggle" [fsMenuTriggerFor]="orderColumnsMenu">{{ sorting.sortingColumn.title }}</a>,
    </ng-container>
    <ng-template #sortByTemplate>
      <a class="order-toggle" [fsMenuTriggerFor]="orderColumnsMenu"><ng-template [ngTemplateOutlet]="sorting.sortingColumn.headerTemplate"></ng-template></a>,
    </ng-template>
    <a class="order-toggle" [fsMenuTriggerFor]="orderDirectionMenu">{{ sorting.sortingColumn.fullNameDirection }}</a>
  </span>
</ng-template>

<fs-menu [hidden]="!paging.enabled || scrollable" #limitsMenu>
  <ng-template
    ngFor
    let-limit
    [ngForOf]="paging.limits"
  >
    <ng-template fs-menu-item (click)="setLimit(limit)">
      {{ limit }}
    </ng-template>
  </ng-template>
</fs-menu>

<fs-menu [hidden]="!sorting.sortingColumn" #orderColumnsMenu>
  <!-- Real sorting columns -->
  <ng-template
    ngFor
    let-column
    [ngForOf]="sorting.sortingColumns"
  >
    <ng-template fs-menu-item (click)="setSortableColumn(column)">
      <ng-container *ngIf="column.title; else sortByTemplate">
        {{ column.title }}
      </ng-container>
      <ng-template #sortByTemplate>
        <ng-template [ngTemplateOutlet]="column.headerTemplate"></ng-template>
      </ng-template>
    </ng-template>
  </ng-template>

  <!-- Fake sorting columns -->
  <ng-template
    ngFor
    let-column
    [ngForOf]="sorting.fakeSortingColumns"
  >
    <ng-template fs-menu-item (click)="setSortableColumn(column)">
      {{ column.title }}
    </ng-template>
  </ng-template>
</fs-menu>

<fs-menu [hidden]="!sorting.sortingColumn" #orderDirectionMenu>
  <ng-template fs-menu-item (click)="setDirection(OrderDirection.asc)"> Ascending </ng-template>
  <ng-template fs-menu-item (click)="setDirection(OrderDirection.desc)"> Descending </ng-template>
</fs-menu>
